@import "tailwindcss";

:root {
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: dark;
  background-color: #0a192f;
  color: rgba(255, 255, 255, 0.87);

  /* ============================================================
     ORGANIC LUXURY DESIGN SYSTEM (VegasCore 5.0)
     Based on behavioral psychology research (1,900-person focus group)
     ============================================================ */

  /* Oceanic Navy - Safety & Trust */
  --color-oceanic: #0a192f;
  --color-oceanic-light: #112240;
  --color-oceanic-dark: #020c1b;

  /* Vegas Felt Green - "Game On" trigger */
  --color-felt-green: #059669;
  --color-felt-green-light: #10b981;
  --color-felt-green-dark: #047857;

  /* Urgency Gold - Wins/Spending moments ONLY */
  --color-urgency-gold: #fbbf24;
  --color-urgency-gold-light: #fcd34d;
  --color-urgency-gold-dark: #d97706;

  /* Error & Success */
  --color-error: #ef4444;
  --color-error-light: #f87171;
  --color-error-dark: #dc2626;
  --color-success: #10b981;
  --color-success-light: #34d399;
  --color-success-dark: #059669;

  /* Biometric Animation Durations */
  --pulse-resting: 1s;      /* 60 BPM */
  --pulse-excited: 0.5s;    /* 120 BPM */

  /* Border Radius - Squircle System */
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 24px;
  --radius-squircle-sm: 12px;
  --radius-squircle-md: 20px;
  --radius-squircle-lg: 32px;

  /* Drop Shadow Glow - Adaptive to User State */
  --shadow-glow-green: 0 0 20px rgba(5, 150, 105, 0.4), 0 0 40px rgba(5, 150, 105, 0.2), 0 0 60px rgba(5, 150, 105, 0.1);
  --shadow-glow-gold: 0 0 20px rgba(251, 191, 36, 0.4), 0 0 40px rgba(251, 191, 36, 0.2), 0 0 60px rgba(251, 191, 36, 0.1);
  --shadow-glow-green-excited: 0 0 30px rgba(5, 150, 105, 0.6), 0 0 60px rgba(5, 150, 105, 0.4), 0 0 90px rgba(5, 150, 105, 0.2);
  --shadow-glow-gold-excited: 0 0 30px rgba(251, 191, 36, 0.6), 0 0 60px rgba(251, 191, 36, 0.4), 0 0 90px rgba(251, 191, 36, 0.2);

  /* Legacy aliases for backwards compatibility */
  --vc-felt-primary: var(--color-felt-green);
  --vc-felt-light: var(--color-felt-green-light);
  --vc-felt-dark: var(--color-felt-green-dark);
  --vc-gold: var(--color-urgency-gold);
  --vc-gold-light: var(--color-urgency-gold-light);
  --vc-gold-dark: var(--color-urgency-gold-dark);
  --casino-gold: var(--color-urgency-gold);
  --casino-gold-light: var(--color-urgency-gold-light);
  --casino-dark: var(--color-oceanic);
  --casino-felt: var(--color-felt-green);
  --casino-felt-light: var(--color-felt-green-light);
  --casino-navy: var(--color-oceanic);

  /* Safe area insets for notched devices (iOS Safari, Android) */
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
}

* {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  min-height: 100dvh;
  overflow-x: hidden;
  overscroll-behavior: none;
}

/* ============================================================
   NO-SCROLL GAME CONTAINER - Core Layout (ORGANIC LUXURY)
   ============================================================ */
.game-container {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100vh;
  height: 100dvh; /* Dynamic Viewport Height handles mobile bars */
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background: linear-gradient(135deg, var(--color-oceanic) 0%, var(--color-oceanic-light) 50%, var(--color-oceanic-dark) 100%);
}

/* ============================================================
   FELT TEXTURE BACKGROUNDS - VegasCore 2.0 Deep Emerald
   ============================================================ */

/* Primary felt background - Deep Emerald for luxury/permission psychology */
.felt-bg {
  background-color: var(--vc-felt-primary);
  background-image:
    radial-gradient(ellipse at center, var(--vc-felt-light) 0%, var(--vc-felt-primary) 50%, var(--vc-felt-dark) 100%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23ffffff' fill-opacity='0.03' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
}

/* Deep Emerald felt - primary table surface */
.felt-bg-emerald {
  background-color: var(--vc-felt-primary);
  background-image:
    radial-gradient(ellipse at center top, var(--vc-felt-light) 0%, var(--vc-felt-primary) 40%, var(--vc-felt-dark) 100%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23ffffff' fill-opacity='0.02' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
}

/* Dark felt for table edges */
.felt-dark {
  background-color: var(--vc-felt-dark);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%23ffffff' fill-opacity='0.02' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
}

/* Royal Blue UI Chrome background */
.chrome-bg {
  background-color: var(--vc-chrome-primary);
}

.chrome-bg-gradient {
  background: linear-gradient(180deg, var(--vc-chrome-primary) 0%, var(--vc-chrome-dark) 100%);
}

/* ============================================================
   GRADIENT UTILITIES
   ============================================================ */

/* Radial gradient for spotlight effect */
.bg-gradient-radial {
  background: radial-gradient(circle at center, var(--tw-gradient-from), var(--tw-gradient-via), var(--tw-gradient-to));
}

/* Gold accent gradient */
.gold-gradient {
  background: linear-gradient(135deg, var(--vc-gold-light) 0%, var(--vc-gold) 50%, var(--vc-gold-dark) 100%);
}

/* Deep Emerald felt gradient */
.emerald-gradient {
  background: linear-gradient(180deg, var(--vc-felt-light) 0%, var(--vc-felt-primary) 50%, var(--vc-felt-dark) 100%);
}

/* Royal Blue chrome gradient */
.chrome-gradient {
  background: linear-gradient(135deg, var(--vc-chrome-light) 0%, var(--vc-chrome-primary) 50%, var(--vc-chrome-dark) 100%);
}

/* Error/Destructive gradient - used sparingly */
.error-gradient {
  background: linear-gradient(135deg, var(--vc-error-light) 0%, var(--vc-error) 50%, var(--vc-error-dark) 100%);
}

/* ============================================================
   SAFE AREA UTILITIES
   ============================================================ */
.safe-area-top {
  padding-top: var(--safe-area-top);
}

.safe-area-bottom {
  padding-bottom: var(--safe-area-bottom);
}

.safe-area-inset {
  padding-top: var(--safe-area-top);
  padding-bottom: var(--safe-area-bottom);
  padding-left: var(--safe-area-left);
  padding-right: var(--safe-area-right);
}

/* ============================================================
   INTERACTION UTILITIES
   ============================================================ */

/* Prevent text selection on game elements */
.no-select {
  user-select: none;
  -webkit-user-select: none;
}

/* ============================================================
   CUSTOM SCROLLBAR
   ============================================================ */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Hide scrollbar on mobile for cleaner look but keep functionality */
@media (max-width: 640px) {
  .overflow-y-auto,
  .overflow-x-auto {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .overflow-y-auto::-webkit-scrollbar,
  .overflow-x-auto::-webkit-scrollbar {
    display: none;
  }
}

/* ============================================================
   ANIMATION UTILITIES - ORGANIC LUXURY SYSTEM
   ============================================================ */

/* Biometric Pulse Animations - Synced to Human Heart Rhythms */
@keyframes pulse-resting {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.03);
  }
}

@keyframes pulse-excited {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.08);
  }
}

.animate-pulse-resting {
  animation: pulse-resting var(--pulse-resting) ease-in-out infinite;
}

.animate-pulse-excited {
  animation: pulse-excited var(--pulse-excited) ease-in-out infinite;
}

/* Pulsing gold glow */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
  }
  50% {
    box-shadow: 0 0 25px rgba(251, 191, 36, 0.6);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

/* Win glow animation */
@keyframes win-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
  }
  50% {
    box-shadow: 0 0 40px rgba(251, 191, 36, 0.8), 0 0 60px rgba(251, 191, 36, 0.4);
  }
}

.animate-win-glow {
  animation: win-glow 1s ease-in-out infinite;
}

/* Bounce animation for elements */
@keyframes bounce-in {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-bounce-in {
  animation: bounce-in 0.5s ease-out forwards;
}

/* Card deal animation - smooth arc from deck */
@keyframes deal-card {
  0% {
    transform: translateX(-60px) translateY(-40px) scale(0.3) rotateY(180deg) rotateZ(-20deg);
    opacity: 0;
    filter: blur(2px);
  }
  30% {
    opacity: 1;
    filter: blur(0);
  }
  70% {
    transform: translateX(5px) translateY(5px) scale(1.05) rotateY(0) rotateZ(2deg);
  }
  100% {
    transform: translateX(0) translateY(0) scale(1) rotateY(0) rotateZ(0);
    opacity: 1;
  }
}

.animate-deal-card {
  animation: deal-card 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Slower pulse for dealer avatar */
@keyframes pulse-slow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(251, 191, 36, 0.4);
  }
  50% {
    box-shadow: 0 0 20px 5px rgba(251, 191, 36, 0.2);
  }
}

.animate-pulse-slow {
  animation: pulse-slow 3s ease-in-out infinite;
}

/* Chip slide animation */
@keyframes chip-slide {
  0% {
    transform: translateY(-50px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-chip-slide {
  animation: chip-slide 0.3s ease-out forwards;
}

/* Player entrance animation - smooth pop-in with bounce */
@keyframes playerEnter {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.6);
  }
  50% {
    opacity: 1;
    transform: translateY(-10px) scale(1.1);
  }
  70% {
    transform: translateY(5px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-player-enter {
  animation: playerEnter 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Player exit animation - fade out and slide down */
@keyframes playerExit {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(20px) scale(0.8);
  }
}

.animate-player-exit {
  animation: playerExit 0.3s ease-in forwards;
}

/* Breathing gradient for Home Screen */
@keyframes breathing-gradient {
  0% {
    background-position: 0% 50%;
    background-size: 400% 400%;
  }
  50% {
    background-position: 100% 50%;
    background-size: 200% 200%;
  }
  100% {
    background-position: 0% 50%;
    background-size: 400% 400%;
  }
}

.animate-breathing-gradient {
  animation: breathing-gradient 20s ease-in-out infinite;
}

/* ============================================================
   CARD & CHIP SHADOWS
   ============================================================ */

/* Casino card shadows */
.card-shadow {
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.3),
    0 2px 4px -2px rgba(0, 0, 0, 0.2),
    0 0 0 1px rgba(255, 255, 255, 0.05);
}

/* Chip shadow */
.chip-shadow {
  box-shadow:
    0 4px 8px rgba(0, 0, 0, 0.4),
    inset 0 1px 2px rgba(255, 255, 255, 0.3);
}

/* Table surface shadow */
.table-shadow {
  box-shadow:
    inset 0 2px 20px rgba(0, 0, 0, 0.5),
    0 0 60px rgba(0, 0, 0, 0.8);
}

/* ============================================================
   FLYING CHIP STYLES (for animations)
   ============================================================ */
.flying-chip {
  position: fixed;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--vc-gold-light) 0%, var(--vc-gold) 50%, var(--vc-gold-dark) 100%);
  border: 3px solid #fef3c7;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.4);
  z-index: 9999;
  pointer-events: none;
}

/* ============================================================
   VEGASCORE 2.0 BUTTON UTILITIES
   ============================================================ */

/* Primary action button (Gold - for positive actions) */
.btn-primary {
  background: linear-gradient(135deg, var(--vc-gold-light), var(--vc-gold));
  color: #000;
  font-weight: 700;
  transition: all 0.2s ease;
}

.btn-primary:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--vc-gold), var(--vc-gold-light));
  transform: scale(1.02);
}

/* Secondary action button (Royal Blue - for neutral actions) */
.btn-secondary {
  background: linear-gradient(135deg, var(--vc-chrome-light), var(--vc-chrome-primary));
  color: #fff;
  font-weight: 600;
  transition: all 0.2s ease;
}

.btn-secondary:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--vc-chrome-primary), var(--vc-chrome-light));
}

/* Destructive action button (Red - for fold/surrender only) */
.btn-destructive {
  background: transparent;
  border: 1px solid var(--vc-error);
  color: var(--vc-error);
  font-weight: 500;
  transition: all 0.2s ease;
}

.btn-destructive:hover:not(:disabled) {
  background: var(--vc-error);
  color: #fff;
}

/* ============================================================
   PREVENT PULL-TO-REFRESH
   ============================================================ */
@supports (-webkit-overflow-scrolling: touch) {
  body {
    overscroll-behavior-y: none;
  }
}

/* ============================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================ */
@media (max-width: 640px) {
  .game-container {
    /* Ensure full mobile viewport */
    height: -webkit-fill-available;
  }
}

/* Landscape mode adjustments */
@media (max-height: 500px) and (orientation: landscape) {
  .game-container {
    /* Allow some scrolling in very short viewports */
    overflow-y: auto;
  }
}

/* ============================================================
   GLITCH ANIMATION - SecretComs Lock Icon
   ============================================================ */
@keyframes glitch {
  0%, 100% {
    transform: translate(0);
  }
  20% {
    transform: translate(-2px, 2px);
  }
  40% {
    transform: translate(-2px, -2px);
  }
  60% {
    transform: translate(2px, 2px);
  }
  80% {
    transform: translate(2px, -2px);
  }
}

.animate-glitch {
  animation: glitch 0.2s ease-in-out;
}

/* ============================================================
   TAILWIND LAYER EXTENSIONS - ORGANIC LUXURY
   ============================================================ */
@layer utilities {
  /* Border width 3 */
  .border-3 {
    border-width: 3px;
  }

  /* Squircle border radius utilities */
  .rounded-squircle-sm {
    border-radius: var(--radius-squircle-sm);
  }

  .rounded-squircle-md {
    border-radius: var(--radius-squircle-md);
  }

  .rounded-squircle-lg {
    border-radius: var(--radius-squircle-lg);
  }

  /* Adaptive glow shadows */
  .shadow-glow-green {
    box-shadow: var(--shadow-glow-green);
  }

  .shadow-glow-gold {
    box-shadow: var(--shadow-glow-gold);
  }

  .shadow-glow-green-excited {
    box-shadow: var(--shadow-glow-green-excited);
  }

  .shadow-glow-gold-excited {
    box-shadow: var(--shadow-glow-gold-excited);
  }

  /* Height utilities */
  .h-22 {
    height: 5.5rem;
  }

  .h-34 {
    height: 8.5rem;
  }

  /* Aspect ratio for cards */
  .aspect-card {
    aspect-ratio: 2.5 / 3.5;
  }

  /* Text shadow for readability */
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }

  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.7);
  }
}
